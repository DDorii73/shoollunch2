<!DOCTYPE html>
<html lang="ko">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>학생 활동 - 급식 관리</title>
  <link rel="stylesheet" href="/src/style.css">
</head>
<body>
  <div class="student-container">
    <header class="student-header">
      <h1>🍽️ 오늘의 급식</h1>
      <button id="back-btn" class="back-btn">← 돌아가기</button>
    </header>

    <!-- 챗봇 섹션 -->
    <div id="chatbot-section" class="chatbot-section">
      <div class="chatbot-container">
        <div class="chatbot-header">
          <h2>급식 챗봇과 대화하기</h2>
          <p class="chatbot-subtitle">오늘의 급식에 대해 이야기해보세요! (3~7회 대화)</p>
        </div>
        <div id="chat-messages" class="chat-messages"></div>
        <div class="chat-input-container">
          <input type="text" id="chat-input" placeholder="메시지를 입력하세요..." />
          <button id="send-btn" class="send-btn">전송</button>
        </div>
        <div class="chatbot-controls">
          <button id="end-chat-btn" class="end-chat-btn hidden">Chatbot과의 대화 끝내기</button>
        </div>
      </div>
    </div>

    <!-- 음식 기록 섹션 -->
    <div id="record-section" class="record-section hidden">
      <div class="record-container">
        <h2>오늘 먹은 음식 기록하기</h2>
        
        <!-- 점심 급식 섹션 -->
        <div class="meal-record">
          <div style="display: flex; justify-content: space-between; align-items: center; margin-bottom: 10px;">
            <h3 style="margin: 0;">🍱 점심 급식</h3>
            <button id="new-lunch-btn" class="new-input-btn hidden" title="새로입력하기">✏️</button>
          </div>
          <p class="meal-description">오늘 제공된 메뉴 중 먹은 것을 클릭하거나 선택하고 횟수를 입력하세요.</p>
          
          <div id="lunch-menu-list" class="menu-list"></div>
          
          <div class="calorie-summary">
            <h4>총 칼로리: <span id="lunch-total-calories">0</span> kcal</h4>
          </div>
          
          <button id="submit-lunch-btn" class="submit-btn lunch-submit">점심 제출하기</button>
        </div>

        <!-- 간식 섹션 -->
        <div class="meal-record">
          <div style="display: flex; justify-content: space-between; align-items: center; margin-bottom: 10px;">
            <h3 style="margin: 0;">🍪 방과후 간식</h3>
            <button id="new-snack-btn" class="new-input-btn hidden" title="새로입력하기">✏️</button>
          </div>
          <p class="meal-description">먹은 간식을 입력하세요.</p>
          
          <div class="snack-input-section">
            <div class="food-input-group">
              <input type="text" id="snack-input" placeholder="간식 이름을 입력하세요 (예: 우유, 빵, 과자)" />
              <button id="add-snack-btn" class="add-btn">추가</button>
            </div>
            <div class="food-list" id="snack-foods"></div>
          </div>
          
          <button id="submit-snack-btn" class="submit-btn snack-submit">간식 제출하기</button>
        </div>
      </div>
    </div>

    <!-- 영양 브리핑 챗봇 섹션 -->
    <div id="nutrition-chatbot-section" class="chatbot-section hidden">
      <div class="chatbot-container">
        <div class="chatbot-header">
          <h2>💊 영양 브리핑 챗봇</h2>
          <p class="chatbot-subtitle">오늘 먹은 음식의 영양 분석과 건강 조언을 받아보세요!</p>
        </div>
        <div id="nutrition-chat-messages" class="chat-messages"></div>
        <div class="chat-input-container">
          <input type="text" id="nutrition-chat-input" placeholder="궁금한 것을 물어보세요..." />
          <button id="nutrition-send-btn" class="send-btn">전송</button>
        </div>
        <div class="chatbot-controls">
          <button id="close-nutrition-btn" class="end-chat-btn">브리핑 완료하기</button>
        </div>
      </div>
    </div>
  </div>
  <script type="module" src="/src/main.js"></script>
</body>
</html>
